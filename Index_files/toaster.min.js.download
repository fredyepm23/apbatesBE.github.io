(function(t,u){angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"newest-on-top":!0,"time-out":5E3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).service("toaster",
["$rootScope","toasterConfig",function(n,l){this.pop=function(a,f,p,q,b,m,c,e,k,h){angular.isObject(a)?(this.toast={type:a.type,title:a.title,body:a.body,timeout:a.timeout,bodyOutputType:a.bodyOutputType,clickHandler:a.clickHandler,showCloseButton:a.showCloseButton,uid:a.toastId,onHideCallback:a.onHideCallback},k=a.toastId,c=a.toasterId):this.toast={type:a,title:f,body:p,timeout:q,bodyOutputType:b,clickHandler:m,showCloseButton:e,uid:k,onHideCallback:h};n.$emit("toaster-newToast",c,k)};this.clear=
function(a,f){n.$emit("toaster-clearToasts",a,f)};for(var c in l["icon-classes"])this[c]=function(a){return function(f,p,c,b,m,r,e,k,h){angular.isString(f)?this.pop(a,f,p,c,b,m,r,e,k,h):this.pop(angular.extend(f,{type:a}))}}(c)}]).factory("toasterEventRegistry",["$rootScope",function(n){var l=null,c=null,a=[],f=[];return{setup:function(){l||(l=n.$on("toaster-newToast",function(p,f,b){for(var c=0,r=a.length;c<r;c++)a[c](p,f,b)}));c||(c=n.$on("toaster-clearToasts",function(a,c,b){for(var m=0,r=f.length;m<
r;m++)f[m](a,c,b)}))},subscribeToNewToastEvent:function(c){a.push(c)},subscribeToClearToastsEvent:function(a){f.push(a)},unsubscribeToNewToastEvent:function(c){c=a.indexOf(c);0<=c&&a.splice(c,1);0===a.length&&(l(),l=null)},unsubscribeToClearToastsEvent:function(a){a=f.indexOf(a);0<=a&&f.splice(a,1);0===f.length&&(c(),c=null)}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(n,l,c,a,f,p,q){return{replace:!0,restrict:"EA",
scope:!0,link:function(b,m,r){function e(d,a){d.timeoutPromise=c(function(){b.removeToast(d.id)},a,1)}function k(d){var a=b.toasters[d];if(a&&(a.timeoutPromise&&c.cancel(a.timeoutPromise),b.toasters.splice(d,1),angular.isFunction(a.onHideCallback)))a.onHideCallback()}function h(b){return angular.isUndefined(b)||null===b}var l=0,g;g=angular.extend({},f,b.$eval(r.toasterOptions));b.config={toasterId:g["toaster-id"],position:g["position-class"],title:g["title-class"],message:g["message-class"],tap:g["tap-to-dismiss"],
closeButton:g["close-button"],animation:g["animation-class"],mouseoverTimer:g["mouseover-timer-stop"]};b.$on("$destroy",function(){q.unsubscribeToNewToastEvent(b._onNewToast);q.unsubscribeToClearToastsEvent(b._onClearToasts)});b.configureTimer=function(b){var a=angular.isNumber(b.timeout)?b.timeout:g["time-out"];"object"===typeof a&&(a=a[b.type]);0<a&&e(b,a)};b.removeToast=function(a){var c,e;c=0;for(e=b.toasters.length;c<e;c++)if(b.toasters[c].id===a){k(c);break}};b.toasters=[];b._onNewToast=function(d,
c,e){if(h(b.config.toasterId)&&h(c)||!h(b.config.toasterId)&&!h(c)&&b.config.toasterId==c)a:{d=p.toast;d.type=g["icon-classes"][d.type];d.type||(d.type=g["icon-class"]);if(!0===g["prevent-duplicates"])if(h(e)){if(0<b.toasters.length&&b.toasters[b.toasters.length-1].body===d.body)break a}else{var f;c=0;for(f=b.toasters.length;c<f;c++)b.toasters[c].uid===e&&(k(c),c--,f=b.toasters.length)}d.id=++l;h(e)||(d.uid=e);e=g["close-button"];"boolean"!==typeof d.showCloseButton&&("boolean"===typeof e?d.showCloseButton=
e:"object"===typeof e?(e=e[d.type],"undefined"!==typeof e&&null!==e&&(d.showCloseButton=e)):d.showCloseButton=!1);d.bodyOutputType=d.bodyOutputType||g["body-output-type"];switch(d.bodyOutputType){case "trustedHtml":d.html=a.trustAsHtml(d.body);break;case "template":d.bodyTemplate=d.body||g["body-template"];break;case "templateWithData":e=n(d.body||g["body-template"])(b),d.bodyTemplate=e.template,d.data=e.data}b.configureTimer(d);!0===g["newest-on-top"]?(b.toasters.unshift(d),0<g.limit&&b.toasters.length>
g.limit&&b.toasters.pop()):(b.toasters.push(d),0<g.limit&&b.toasters.length>g.limit&&b.toasters.shift())}};b._onClearToasts=function(a,c,e){if("*"==c||h(b.config.toasterId)&&h(c)||!h(b.config.toasterId)&&!h(c)&&b.config.toasterId==c)for(a=b.toasters.length-1;0<=a;a--)h(e)?k(a):b.toasters[a].uid==e&&k(a)};q.setup();q.subscribeToNewToastEvent(b._onNewToast);q.subscribeToClearToastsEvent(b._onClearToasts)},controller:["$scope","$element","$attrs",function(b,a,f){b.stopTimer=function(a){!0===b.config.mouseoverTimer&&
a.timeoutPromise&&(c.cancel(a.timeoutPromise),a.timeoutPromise=null)};b.restartTimer=function(a){!0===b.config.mouseoverTimer?a.timeoutPromise||b.configureTimer(a):null===a.timeoutPromise&&b.removeToast(a.id)};b.click=function(a,c){if(!0===b.config.tap||!0===a.showCloseButton&&!0===c){var f=!0;a.clickHandler&&(angular.isFunction(a.clickHandler)?f=a.clickHandler(a,c):angular.isFunction(b.$parent.$eval(a.clickHandler))?f=b.$parent.$eval(a.clickHandler)(a,c):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container."));
f&&b.removeToast(a.id)}}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><button type="button" class="toast-close-button" ng-show="toaster.showCloseButton" ng-click="click(toaster, true)">&times;</button><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])})(window,
document);
