(function(f){var b=function(c){var b=c.module("FBAngular",[]);b.factory("Fullscreen",["$document","$rootScope",function(g,b){var a=g[0],d=b.$new();g.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){d.$emit("FBFullscreen.change",e.isEnabled())});var e={$on:c.bind(d,d.$on),all:function(){e.enable(a.documentElement)},enable:function(a){a.requestFullScreen?a.requestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?(/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent),
a.webkitRequestFullscreen()):a.msRequestFullscreen&&a.msRequestFullscreen()},cancel:function(){a.cancelFullScreen?a.cancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitExitFullscreen?a.webkitExitFullscreen():a.msExitFullscreen&&a.msExitFullscreen()},isEnabled:function(){return a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement?!0:!1},toggleAll:function(){e.isEnabled()?e.cancel():e.all()},isSupported:function(){var b=a.documentElement;
return b.requestFullScreen||b.mozRequestFullScreen||b.webkitRequestFullscreen||b.msRequestFullscreen?!0:!1}};return e}]);b.directive("fullscreen",["Fullscreen",function(b){return{link:function(c,a,d){if(d.fullscreen){c.$watch(d.fullscreen,function(c){var d=b.isEnabled();c&&!d?(b.enable(a[0]),a.addClass("isInFullScreen")):!c&&d&&(b.cancel(),a.removeClass("isInFullScreen"))});var e=b.$on("FBFullscreen.change",function(b,e){e||c.$evalAsync(function(){c.$eval(d.fullscreen+"= false");a.removeClass("isInFullScreen")})});
c.$on("$destroy",function(){e()})}else if(void 0===d.onlyWatchedProperty)a.on("click",function(c){b.enable(a[0])})}}}]);return b};"function"===typeof define&&define.amd?define("FBAngular",["angular"],function(c){return b(c)}):"undefined"!==typeof module&&module.exports?module.exports=b(f.angular).name:b(f.angular)})(window);
